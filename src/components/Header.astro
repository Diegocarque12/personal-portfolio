---
import LanguageSelector from "./LanguageSelector.astro";
import type { Locale } from "../i18n/translations";
import { getTranslations } from "../i18n/translations";

interface Props {
  locale?: Locale;
  currentPath?: string;
}

const { locale = "en", currentPath = "" } = Astro.props;
const t = getTranslations(locale);

// Determine the correct anchor IDs based on locale
const anchors = locale === "en" 
  ? {
      projects: "#projects",
      experience: "#experience",
      about: "#about-me"
    }
  : {
      projects: "#proyectos",
      experience: "#experiencia",
      about: "#sobre-mi"
    };
---

<header
  class="flex justify-center items-center mx-auto py-5 px-8 md:px-6 sticky top-0 w-full max-w-7xl z-20"
>
  <nav
    class="flex flex-row items-center backdrop-blur-2xl rounded-xl"
  >
    <a
      class="hover:bg-white/10 transition hover:bg-neutral-200 border-l border-t border-b border-black/30 px-3 py-1 rounded-l-xl text-gray-900"
      href={`/${anchors.projects}`}
      aria-label={t.nav.projects}
    >
      {t.nav.projects}
    </a>
    <a
      class="hover:bg-white/10 transition hover:bg-neutral-200 border-t border-b border-black/30 px-3 py-1 text-gray-900"
      href={`/${anchors.experience}`}
      aria-label={t.nav.experience}
    >
      {t.nav.experience}
    </a>
    <a
      class="hover:bg-white/10 transition hover:bg-neutral-200 border-r border-t border-b border-black/30 px-3 py-1 rounded-r-xl text-gray-900"
      href={`/${anchors.about}`}
      aria-label={t.nav.about}
    >
      {t.nav.about}
    </a>
  </nav>

  <!-- Language Selector -->
  {currentPath && (
    <LanguageSelector currentLocale={locale} currentPath={currentPath} />
  )}
</header>