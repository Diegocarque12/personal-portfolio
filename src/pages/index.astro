---
import Layout from "../layouts/Layout.astro";
import Badge from "../components/Badge.astro";
import SectionContainer from "../components/SectionContainer.astro";
import LinkedInIcon from "../components/icons/LinkedIn.astro";
import CVIcon from "../components/icons/CV.astro";
import SocialPill from "../components/SocialPill.astro";
import GitHubIcon from "../components/icons/GitHub.astro";
import MailIcon from "../components/icons/Mail.astro";
import Experience from "../components/Experience.astro";
import Briefcase from "../components/icons/Briefcase.astro";
import CodeIcon from "../components/icons/Code.astro";
import ProjectsIcon from "../components/icons/Projects.astro";
import Projects from "../components/Projects.astro";
import ToTop from "../components/ToTop.astro";
import Footer from "../components/Footer.astro";
import LanguageSelector from "../components/LanguageSelector.astro";
import { getTranslations } from "../i18n/translations";

const t = getTranslations("en"); // English as default
const currentPath = Astro.url.pathname;
---

<Layout
  title={`Diego Carvajal - ${t.hero.title} | +5 Years Experience`}
  description={t.hero.description}
>
  <main class="px-8 md:px-6 z-10">
    <SectionContainer class="py-8 lg:py-28 pb-4 flex justify-center">
      <div
        id="personalInfoCard"
        class="p-4 pt-12 xl:p-16 rounded-2xl shadow-lg z-50 bg-white relative"
      >
        <!-- Language Selector -->
        <div class="absolute top-0 right-0 lg:top-4 lg:right-4 pt-1">
          <LanguageSelector currentLocale="en" currentPath={currentPath} />
        </div>

        <div class="flex xl:block gap-4 lg:justify-between">
          <img
            class="rounded-full size-24 md:size-12 mb-4"
            src="/diego.webp"
            alt="Diego Carvajal - Senior Frontend Engineer"
          />
          <div class="flex flex-col md:flex-row md:items-center md:gap-4 mb-6">
            <h1
              class="text-gray-900 text-2xl md:text-4xl lg:text-5xl font-bold flex flex-row gap-x-4 pb-2 md:pb-0"
            >
              Diego Carvajal
            </h1>
            <Badge>{t.hero.badge}</Badge>
          </div>
        </div>
        
        <div class="mb-2">
          <h2 class="text-xl lg:text-2xl font-semibold text-[#075985] mb-2">
            {t.hero.title}
          </h2>
          <p class="text-base lg:text-lg text-gray-600 mb-1">
            {t.hero.specialization}
          </p>
        </div>

        <p class="text-base lg:text-lg text-balance max-w-[700px] text-gray-700 mt-4">
          {t.hero.description}
        </p>

        <nav class="flex gap-4 mt-8 flex-wrap">
          <SocialPill
            href="/src/assets/CV_DiegoCarvajal_2025.pdf"
            download="Diego-Carvajal-CV-2025.pdf"
          >
            <CVIcon class="size-5 md:size-5" />
            {t.hero.downloadCV}
          </SocialPill>
          <SocialPill href="https://www.linkedin.com/in/luis-diego-carvajal/?locale=en_US">
            <LinkedInIcon class="size-5 md:size-5" />
            LinkedIn
          </SocialPill>
          <SocialPill href="https://github.com/Diegocarque12">
            <GitHubIcon class="size-5 md:size-5" />
            GitHub
          </SocialPill>
          <SocialPill href="mailto:diegocarque1213@gmail.com">
            <MailIcon class="size-5 md:size-5" />
            diegocarque1213@gmail.com
          </SocialPill>
        </nav>
      </div>
    </SectionContainer>

    <SectionContainer id="experience" class="pb-4 pt-20 relative">
      <h2
        class="text-3xl font-semibold mb-6 flex gap-x-3 items-center text-gray-900"
      >
        <Briefcase class="size-7" />
        {t.sections.experience}
      </h2>
      <Experience locale="en" />
    </SectionContainer>

    <SectionContainer id="projects" class="pb-4 pt-20">
      <h2
        class="text-3xl font-semibold mb-6 flex gap-x-3 items-center text-gray-900"
      >
        <ProjectsIcon class="size-7" />
        {t.sections.projects}
      </h2>
      <Projects locale="en" />
    </SectionContainer>

    <SectionContainer id="about-me" class="pb-4 pt-20">
      <h2
        class="text-3xl font-semibold mb-6 flex gap-x-3 items-center text-gray-900"
      >
        <CodeIcon class="size-7" />
        {t.sections.aboutMe}
      </h2>

      <article class="max-w-[1200px]">
        <p class="text-lg text-gray-700 mb-4 leading-relaxed">
          {t.about.paragraph1}
        </p>
        
        <p class="text-lg text-gray-700 mb-4 leading-relaxed">
          {t.about.paragraph2}
        </p>

        <p class="text-lg text-gray-700 mb-4 leading-relaxed">
          {t.about.paragraph3}
        </p>

        <p class="text-lg text-gray-700 leading-relaxed">
          {t.about.paragraph4}
        </p>
      </article>
    </SectionContainer>
    
    <ToTop />
  </main>
  <Footer />
</Layout>

<style>
  #personalInfoCard {
    position: relative;
  }
</style>